######################### ElasticSearch Configuration  ########################

# This file is managed by Chef, do not edit manually, your changes *will* be overwritten!
#
# Please see the source file for context and more information:
#
# https://github.com/elasticsearch/elasticsearch/blob/master/config/elasticsearch.yml
#
# To set configurations not exposed by this template, set the
# `node.elasticsearch[:custom_config]` attribute in your node configuration,
# `elasticsearch/settings` data bag, role/environment definition, etc:
#
#     // ...
#     'threadpool.index.type' => 'fixed',
#     'threadpool.index.size' => '2'
#     // ...

################################### Cluster ###################################

<%= print_value 'cluster.name' -%>

#################################### Node #####################################

<%= print_value 'node.name' -%>
node.master: false
node.data: false

<%= print_value 'path.conf' -%>
<%= print_value 'path.work' -%>
<%= print_value 'path.logs' -%>
<%= print_value 'path.plugins' -%>

#################################### Plugin ###################################

<%= print_value 'plugin.mandatory', node[:elasticsearch][:plugin][:mandatory].join(',') \
    unless node[:elasticsearch][:plugin][:mandatory].empty? -%>

################################### Memory ####################################

<%= print_value 'bootstrap.mlockall' -%>

############################## Network And HTTP ###############################

<%= print_value 'network.bind_host' -%>
<%= print_value 'network.publish_host' -%>
<%= print_value 'network.host' -%>
<%= print_value 'transport.tcp.port' -%>
<%= print_value 'transport.tcp.compress' -%>
<%= print_value 'http.host' -%>
<%= print_value 'http.port' -%>
<%= print_value 'http.max_content_length' -%>
<%= print_value 'http.enabled' -%>

################################### Gateway ###################################

<%= print_value 'gateway.type', node.elasticsearch[:gateway][:type] -%>
<%= print_value 'gateway.recover_after_nodes' -%>
<%= print_value 'gateway.recover_after_time' -%>
<%= print_value 'gateway.expected_nodes' -%>

############################# Recovery Throttling #############################

<%= print_value 'cluster.routing.allocation.node_initial_primaries_recoveries' -%>
<%= print_value 'cluster.routing.allocation.node_concurrent_recoveries' -%>
<%= print_value 'indices.recovery.max_size_per_sec' -%>
<%= print_value 'indices.recovery.concurrent_streams' -%>

################################## Discovery ##################################

<%= print_value 'discovery.type', node.elasticsearch[:discovery][:type] -%>

<%- if node.elasticsearch[:cloud] -%>
<%= print_value 'cloud.node.auto_attributes' -%>
<%= print_value 'cloud.aws.access_key' -%>
<%= print_value 'cloud.aws.secret_key' -%>
<%= print_value 'cloud.aws.region' -%>
<%= print_value 'cloud.aws.ec2.endpoint' -%>
<%= print_value 'discovery.ec2.groups' -%>
<%= print_value 'discovery.ec2.ping_timeout' -%>
<%- end -%>
